{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alex\\\\Visual-Programming\\\\dz4\\\\books-app\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [books, setBooks] = useState([]);\n  const getApiData = async () => {\n    const response = await fetch(\"https://fakeapi.extendsclass.com/books\").then(response => response.json());\n    const booksWithImage = await Promise.all(response.map(async book => {\n      var _Image$items, _Image$items$, _Image$items$$volumeI, _Image$items$$volumeI2;\n      // Запрос к Google Books API по ISBN\n      const IMGResponse = await fetch(`https://www.googleapis.com/books/v1/volumes?q=isbn:${book.isbn}`);\n      const Image = await IMGResponse.json();\n\n      // Если обложка найдена, добавляем её в данные книги\n      const thumbnail = (_Image$items = Image.items) === null || _Image$items === void 0 ? void 0 : (_Image$items$ = _Image$items[0]) === null || _Image$items$ === void 0 ? void 0 : (_Image$items$$volumeI = _Image$items$.volumeInfo) === null || _Image$items$$volumeI === void 0 ? void 0 : (_Image$items$$volumeI2 = _Image$items$$volumeI.imageLinks) === null || _Image$items$$volumeI2 === void 0 ? void 0 : _Image$items$$volumeI2.thumbnail;\n      return {\n        ...book,\n        img: thumbnail || null\n      }; // Добавляем поле cover\n    }));\n    setBooks(booksWithImage); // Обновляем состояние с книгами и обложками\n  };\n\n  // Вызываем getApiData при монтировании компонента\n  useEffect(() => {\n    getApiData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: books.map(book => /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"item-container\",\n      children: [book.img ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: book.img,\n        alt: \"\\u041E\\u0431\\u043B\\u043E\\u0436\\u043A\\u0430 \\u043A\\u043D\\u0438\\u0433\\u0438\",\n        style: {\n          width: \"300px\",\n          height: \"auto\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/image.png\",\n        alt: \"\\u0417\\u0430\\u0433\\u043B\\u0443\\u0448\\u043A\\u0430\",\n        style: {\n          width: \"300px\",\n          height: \"auto\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"title\",\n        children: book.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"autor\",\n        children: book.authors\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"ww1JAI05mMsgubm5EIyBKqdj5S0=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","App","_s","books","setBooks","getApiData","response","fetch","then","json","booksWithImage","Promise","all","map","book","_Image$items","_Image$items$","_Image$items$$volumeI","_Image$items$$volumeI2","IMGResponse","isbn","Image","thumbnail","items","volumeInfo","imageLinks","img","className","children","class","src","alt","style","width","height","fileName","_jsxFileName","lineNumber","columnNumber","title","authors","_c","$RefreshReg$"],"sources":["C:/Users/Alex/Visual-Programming/dz4/books-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport './App.css';\n\nfunction App() {\n  const [books, setBooks] = useState([]);\n\n  const getApiData = async () => {\n    const response = await fetch(\"https://fakeapi.extendsclass.com/books\").then((response) => response.json());\n\n    const booksWithImage = await Promise.all(\n      response.map(async (book) => {\n        // Запрос к Google Books API по ISBN\n        const IMGResponse = await fetch(\n          `https://www.googleapis.com/books/v1/volumes?q=isbn:${book.isbn}`\n        );\n        const Image = await IMGResponse.json();\n\n        // Если обложка найдена, добавляем её в данные книги\n        const thumbnail = Image.items?.[0]?.volumeInfo?.imageLinks?.thumbnail;\n        return { ...book, img: thumbnail || null }; // Добавляем поле cover\n      })\n    );\n\n    setBooks(booksWithImage); // Обновляем состояние с книгами и обложками\n  };\n\n\n  // Вызываем getApiData при монтировании компонента\n  useEffect(() => {\n    getApiData();\n  }, []);\n\n  return (\n    <div className=\"app\">\n      {books.map((book) => (\n        <div class=\"item-container\">\n          {book.img ? (\n            <img src={book.img} alt=\"Обложка книги\" style={{ width: \"300px\", height: \"auto\" }} />\n          ) : (\n            <img\n            src=\"/image.png\" \n            alt=\"Заглушка\"\n            style={{ width: \"300px\", height: \"auto\" }}          />\n          )}\n          <div class=\"title\">{book.title}</div>\n          <div class=\"autor\">{book.authors}</div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}