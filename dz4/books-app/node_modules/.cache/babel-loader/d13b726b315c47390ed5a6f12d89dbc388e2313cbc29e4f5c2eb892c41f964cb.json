{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alex\\\\Visual-Programming\\\\dz4\\\\books-app\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport './App.css';\nimport BookCard from './BookCard';\nimport SearchAndSort from './SearchAndSort';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [books, setBooks] = useState([]);\n  const [searchText, setSearchText] = useState(\"\");\n  const [sortBy, setSortBy] = useState(\"title\");\n  const [sortOrder, setSortOrder] = useState(\"asc\");\n  const getApiData = async () => {\n    const response = await fetch(\"https://fakeapi.extendsclass.com/books\").then(response => response.json());\n    const booksWithImage = await Promise.all(response.map(async book => {\n      var _Image$items, _Image$items$, _Image$items$$volumeI, _Image$items$$volumeI2;\n      const IMGResponse = await fetch(`https://www.googleapis.com/books/v1/volumes?q=isbn:${book.isbn}`);\n      const Image = await IMGResponse.json();\n      const thumbnail = (_Image$items = Image.items) === null || _Image$items === void 0 ? void 0 : (_Image$items$ = _Image$items[0]) === null || _Image$items$ === void 0 ? void 0 : (_Image$items$$volumeI = _Image$items$.volumeInfo) === null || _Image$items$$volumeI === void 0 ? void 0 : (_Image$items$$volumeI2 = _Image$items$$volumeI.imageLinks) === null || _Image$items$$volumeI2 === void 0 ? void 0 : _Image$items$$volumeI2.thumbnail;\n      return {\n        ...book,\n        img: thumbnail || null\n      };\n    }));\n    setBooks(booksWithImage);\n  };\n  useEffect(() => {\n    getApiData();\n  }, []);\n  const filteredBooks = books.filter(book => book.title.toLowerCase().includes(searchText.toLowerCase()) || book.authors.toLowerCase().includes(searchText.toLowerCase()));\n  const sortedBooks = filteredBooks.sort((a, b) => {\n    if (sortOrder === \"asc\") {\n      return a[sortBy] > b[sortBy] ? 1 : -1;\n    } else {\n      return a[sortBy] < b[sortBy] ? 1 : -1;\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(SearchAndSort, {\n      searchText: searchText,\n      setSearchText: setSearchText,\n      sortBy: sortBy,\n      setSortBy: setSortBy,\n      sortOrder: sortOrder,\n      setSortOrder: setSortOrder\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), sortedBooks.map(book => /*#__PURE__*/_jsxDEV(BookCard, {\n      book: book\n    }, book.isbn, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"qIEjkHGRzHXMqgfD9wyK5ZKmmx4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BookCard","SearchAndSort","jsxDEV","_jsxDEV","App","_s","books","setBooks","searchText","setSearchText","sortBy","setSortBy","sortOrder","setSortOrder","getApiData","response","fetch","then","json","booksWithImage","Promise","all","map","book","_Image$items","_Image$items$","_Image$items$$volumeI","_Image$items$$volumeI2","IMGResponse","isbn","Image","thumbnail","items","volumeInfo","imageLinks","img","filteredBooks","filter","title","toLowerCase","includes","authors","sortedBooks","sort","a","b","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Alex/Visual-Programming/dz4/books-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport './App.css';\nimport BookCard from './BookCard';\nimport SearchAndSort from './SearchAndSort';\n\nfunction App() {\n  const [books, setBooks] = useState([]);\n  const [searchText, setSearchText] = useState(\"\");\n  const [sortBy, setSortBy] = useState(\"title\");\n  const [sortOrder, setSortOrder] = useState(\"asc\");\n\n  const getApiData = async () => {\n    const response = await fetch(\"https://fakeapi.extendsclass.com/books\").then((response) => response.json());\n\n    const booksWithImage = await Promise.all(\n      response.map(async (book) => {\n        const IMGResponse = await fetch(`https://www.googleapis.com/books/v1/volumes?q=isbn:${book.isbn}`);\n        const Image = await IMGResponse.json();\n        const thumbnail = Image.items?.[0]?.volumeInfo?.imageLinks?.thumbnail;\n        return { ...book, img: thumbnail || null };\n      })\n    );\n\n    setBooks(booksWithImage);\n  };\n\n  useEffect(() => {\n    getApiData();\n  }, []);\n\n  const filteredBooks = books.filter(book =>\n    book.title.toLowerCase().includes(searchText.toLowerCase()) ||\n    book.authors.toLowerCase().includes(searchText.toLowerCase())\n  );\n\n  const sortedBooks = filteredBooks.sort((a, b) => {\n    if (sortOrder === \"asc\") {\n      return a[sortBy] > b[sortBy] ? 1 : -1;\n    } else {\n      return a[sortBy] < b[sortBy] ? 1 : -1;\n    }\n  });\n\n  return (\n    <div className=\"app\">\n      <SearchAndSort\n        searchText={searchText}\n        setSearchText={setSearchText}\n        sortBy={sortBy}\n        setSortBy={setSortBy}\n        sortOrder={sortOrder}\n        setSortOrder={setSortOrder}\n      />\n      {sortedBooks.map((book) => (\n        <BookCard key={book.isbn} book={book} />\n      ))}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}