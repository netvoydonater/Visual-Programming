{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alex\\\\Visual-Programming\\\\dz4\\\\books-app\\\\src\\\\SearchAndSort.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport './SearchAndSort.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchAndSort = ({\n  books,\n  onFilterChange\n}) => {\n  _s();\n  const [SearchInput, setSearchInput] = useState(\"\");\n  const [sortBy, setSortBy] = useState(\"title\");\n  const [sortOrder, setSortOrder] = useState(\"asc\");\n  const handleSearchChange = e => {\n    const query = e.target.value.toLowerCase();\n    setSearchInput(query);\n    filterAndSortBooks(query, sortBy, sortOrder);\n  };\n  const handleSortByChange = e => {\n    const newSortBy = e.target.value;\n    setSortBy(newSortBy);\n    filterAndSortBooks(SearchInput, newSortBy, sortOrder);\n  };\n  const handleSortOrderChange = e => {\n    const newSortOrder = e.target.value;\n    setSortOrder(newSortOrder);\n    filterAndSortBooks(SearchInput, sortBy, newSortOrder);\n  };\n  const filterAndSortBooks = (query, sortBy, sortOrder) => {\n    let filteredBooks = [...books];\n    if (query) {\n      filteredBooks = filteredBooks.filter(book => {\n        var _book$title, _book$authors;\n        const titleMatch = (_book$title = book.title) === null || _book$title === void 0 ? void 0 : _book$title.toLowerCase().includes(query);\n        const authorsMatch = (_book$authors = book.authors) === null || _book$authors === void 0 ? void 0 : _book$authors.some(author => author.toLowerCase().includes(query));\n        return titleMatch || authorsMatch;\n      });\n    }\n    filteredBooks.sort((a, b) => {\n      let valueA, valueB;\n      if (sortBy === \"title\") {\n        var _a$title, _b$title;\n        valueA = ((_a$title = a.title) === null || _a$title === void 0 ? void 0 : _a$title.toLowerCase()) || \"\";\n        valueB = ((_b$title = b.title) === null || _b$title === void 0 ? void 0 : _b$title.toLowerCase()) || \"\";\n      } else {\n        var _a$authors, _a$authors$, _b$authors, _b$authors$;\n        valueA = ((_a$authors = a.authors) === null || _a$authors === void 0 ? void 0 : (_a$authors$ = _a$authors[0]) === null || _a$authors$ === void 0 ? void 0 : _a$authors$.toLowerCase()) || \"\";\n        valueB = ((_b$authors = b.authors) === null || _b$authors === void 0 ? void 0 : (_b$authors$ = _b$authors[0]) === null || _b$authors$ === void 0 ? void 0 : _b$authors$.toLowerCase()) || \"\";\n      }\n      if (sortOrder === \"asc\") {\n        return valueA.localeCompare(valueB);\n      } else {\n        return valueB.localeCompare(valueA);\n      }\n    });\n    onFilterChange(filteredBooks);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"book-filter fixed-filter\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Book List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u044E \\u0438\\u043B\\u0438 \\u0430\\u0432\\u0442\\u043E\\u0440\\u0443 \\u043A\\u043D\\u0438\\u0433\\u0438\",\n      value: SearchInput,\n      onChange: handleSearchChange,\n      className: \"search-input\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sort-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: sortBy,\n          onChange: handleSortByChange,\n          className: \"styled-select\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"title\",\n            className: \"AA\",\n            children: \"\\u043F\\u043E \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u044E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"author\",\n            className: \"AA\",\n            children: \"\\u043F\\u043E \\u0430\\u0432\\u0442\\u043E\\u0440\\u0443\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          value: sortOrder,\n          onChange: handleSortOrderChange,\n          className: \"styled-select\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"asc\",\n            className: \"AA\",\n            children: \"\\u043F\\u043E \\u0432\\u043E\\u0437\\u0440\\u0430\\u0441\\u0442\\u0430\\u043D\\u0438\\u044E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"desc\",\n            className: \"AA\",\n            children: \"\\u043F\\u043E \\u0443\\u0431\\u044B\\u0432\\u0430\\u043D\\u0438\\u044E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 3\n  }, this);\n};\n_s(SearchAndSort, \"9Ab2tl7xdCQ9BR8Dk+nOrFHu9J0=\");\n_c = SearchAndSort;\nexport default SearchAndSort;\nvar _c;\n$RefreshReg$(_c, \"SearchAndSort\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","SearchAndSort","books","onFilterChange","_s","SearchInput","setSearchInput","sortBy","setSortBy","sortOrder","setSortOrder","handleSearchChange","e","query","target","value","toLowerCase","filterAndSortBooks","handleSortByChange","newSortBy","handleSortOrderChange","newSortOrder","filteredBooks","filter","book","_book$title","_book$authors","titleMatch","title","includes","authorsMatch","authors","some","author","sort","a","b","valueA","valueB","_a$title","_b$title","_a$authors","_a$authors$","_b$authors","_b$authors$","localeCompare","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","_c","$RefreshReg$"],"sources":["C:/Users/Alex/Visual-Programming/dz4/books-app/src/SearchAndSort.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport './SearchAndSort.css'\r\n\r\nconst SearchAndSort = ({ books, onFilterChange }) => {\r\n  const [SearchInput, setSearchInput] = useState(\"\");\r\n  const [sortBy, setSortBy] = useState(\"title\"); \r\n  const [sortOrder, setSortOrder] = useState(\"asc\"); \r\n\r\n  const handleSearchChange = (e) => {\r\n    const query = e.target.value.toLowerCase();\r\n    setSearchInput(query);\r\n    filterAndSortBooks(query, sortBy, sortOrder);\r\n  };\r\n\r\n  const handleSortByChange = (e) => {\r\n    const newSortBy = e.target.value;\r\n    setSortBy(newSortBy);\r\n    filterAndSortBooks(SearchInput, newSortBy, sortOrder);\r\n  };\r\n\r\n  const handleSortOrderChange = (e) => {\r\n    const newSortOrder = e.target.value;\r\n    setSortOrder(newSortOrder);\r\n    filterAndSortBooks(SearchInput, sortBy, newSortOrder);\r\n  };\r\n\r\n  const filterAndSortBooks = (query, sortBy, sortOrder) => {\r\n    let filteredBooks = [...books];\r\n\r\n    if (query) {\r\n      filteredBooks = filteredBooks.filter((book) => {\r\n        const titleMatch = book.title?.toLowerCase().includes(query);\r\n        const authorsMatch = book.authors?.some((author) =>\r\n          author.toLowerCase().includes(query)\r\n        );\r\n        return titleMatch || authorsMatch;\r\n      });\r\n    }\r\n\r\n    filteredBooks.sort((a, b) => {\r\n      let valueA, valueB;\r\n      if (sortBy === \"title\") {\r\n        valueA = a.title?.toLowerCase() || \"\";\r\n        valueB = b.title?.toLowerCase() || \"\";\r\n      } else {\r\n        valueA = a.authors?.[0]?.toLowerCase() || \"\";\r\n        valueB = b.authors?.[0]?.toLowerCase() || \"\";\r\n      }\r\n\r\n      if (sortOrder === \"asc\") {\r\n        return valueA.localeCompare(valueB);\r\n      } else {\r\n        return valueB.localeCompare(valueA);\r\n      }\r\n    });\r\n\r\n    onFilterChange(filteredBooks);\r\n  };\r\n\r\n  return (\r\n  <div className=\"book-filter fixed-filter\">\r\n    <h1>Book List</h1>\r\n  <input\r\n    type=\"text\"\r\n    placeholder=\"Поиск по названию или автору книги\"\r\n    value={SearchInput}\r\n    onChange={handleSearchChange}\r\n    className=\"search-input\"\r\n  />\r\n  <div className=\"sort-controls\">\r\n    <label>\r\n      <span>Сортировка: </span>\r\n      <select value={sortBy} onChange={handleSortByChange} className=\"styled-select\">\r\n        <option value=\"title\" className=\"AA\">по названию</option>\r\n        <option value=\"author\" className=\"AA\">по автору</option>\r\n      </select>\r\n    </label>\r\n    <label>\r\n      <select value={sortOrder} onChange={handleSortOrderChange} className=\"styled-select\">\r\n        <option value=\"asc\" className=\"AA\">по возрастанию</option>\r\n        <option value=\"desc\" className=\"AA\">по убыванию</option>\r\n      </select>\r\n    </label>\r\n  </div>\r\n</div>\r\n  );\r\n};\r\n\r\nexport default SearchAndSort;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}